<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>W-System Quantum Computing - Level 3: Quantum Error Correction</title>
    <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="lvl3.css">
</head>
<body>
    <header class="header">
        <div>
            <h1>Level 3: Quantum Error Correction</h1>
            <p>Learn how surface codes protect quantum information</p>
        </div>
        <div style="display: flex; gap: 1rem;">
            <button class="nav-button" onclick="window.location.href='lvl2.html'">← Level 2</button>
            <button class="nav-button" onclick="window.location.href='index.html'">Back to Menu</button>
        </div>
    </header>

    <main class="main-container">
        <div class="visualization-area">
            <div class="instruction-text">
                <p>Click on data qubits to inject errors • Watch syndrome measurements detect errors • See how the surface code corrects errors</p>
            </div>
            
            <div id="surface-code-container"></div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-symbol data"></div>
                    <span>Data Qubit</span>
                </div>
                <div class="legend-item">
                    <div class="legend-symbol ancilla"></div>
                    <span>Ancilla Qubit</span>
                </div>
                <div class="legend-item">
                    <div class="legend-symbol error-x"></div>
                    <span>X Error (Bit Flip)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-symbol error-z"></div>
                    <span>Z Error (Phase Flip)</span>
                </div>
            </div>
        </div>

        <div class="control-panel">
            <div class="control-section">
                <h3>Error Injection</h3>
                <div class="error-buttons">
                    <button class="error-button" onclick="setErrorMode('X')">
                        X Error (Bit Flip) - Click qubits
                    </button>
                    <button class="error-button" onclick="setErrorMode('Z')">
                        Z Error (Phase Flip) - Click qubits
                    </button>
                    <button class="error-button" onclick="injectRandomError()">
                        Random Error
                    </button>
                </div>
            </div>

            <button class="primary-button" onclick="measureSyndromes()">
                Measure Syndromes
            </button>

            <button class="primary-button" onclick="applyCorrection()" id="correctButton" disabled>
                Apply Correction
            </button>

            <button class="primary-button" onclick="resetLattice()">
                Reset Lattice
            </button>

            <div class="status-display">
                <h4>System Status</h4>
                <p id="statusText">Ready - Click on qubits to inject errors</p>
                
                <div class="error-rate-display">
                    <div class="rate-box">
                        <div class="label">Physical Errors</div>
                        <div class="value" id="physicalErrors">0</div>
                    </div>
                    <div class="rate-box">
                        <div class="label">Logical Errors</div>
                        <div class="value" id="logicalErrors">0</div>
                    </div>
                </div>
            </div>

            <div class="status-display">
                <h4>About Surface Codes</h4>
                <p>Surface codes use a 2D lattice of qubits where data qubits store information and ancilla qubits detect errors. By measuring stabilizers (patterns of neighboring qubits), we can detect and correct errors without destroying the quantum information.</p>
            </div>
        </div>
    </main>

    <script src="lvl3.js"></script>
</body>
</html>